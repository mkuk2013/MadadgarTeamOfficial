<!DOCTYPE html>
<html lang="sd" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>مددگار ٽيم | Madadgar Team</title>

  <!-- Sindhi Font: MB Sindhi Web -->
  <link href="https://db.onlinewebfonts.com/c/555dfe40341db3b52f4b7bafc3bb2432?family=MB+Sindhi+Web" rel="stylesheet">
  <!-- Urdu Font: Noto Nastaliq Urdu -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400..700&display=swap" rel="stylesheet">
  <!-- English Font: Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400..700&display=swap" rel="stylesheet">

  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --ajrak-red: #8B0000;
      --ajrak-dark-blue: #0A2E65;
      --ajrak-off-white: #F0E6D8;
    }

    body {
      background-color: var(--ajrak-off-white);
      background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMTIwMCA4MDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBvbHlnb24gcG9pbnRzPSI2MDAsMCAxMjAwLDQwMCA2MDAsODAwIDAsNDAwIiBmaWxsPSJyZ2IoMTM5LDAsMCwwLjA1KSIvPgogIDxwb2x5Z29uIHBvaW50cz0iNjAwLDUwIDEwOTcsNDA2IDYwMCw3NTUgMTAzLDE2NSIgZmlsbD0icmdiKDEwLDQ2LDEwMSwwLjA2KSIvPgogPC9zdmc+');
      background-repeat: no-repeat;
      background-position: center;
      background-size: 80% auto;
      color: #161616;
      line-height: 1.8;
      transition: font-family 0.3s ease;
    }
    
    html[lang="sd"] body {
      font-family: 'MB Sindhi Web', serif;
    }
    html[lang="ur"] body {
      font-family: 'Noto Nastaliq Urdu', serif;
    }
    html[lang="en"] body {
      font-family: 'Inter', sans-serif;
    }

    .ajrak-container {
      background-color: rgba(255, 255, 255, 0.95);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .text-ajrak-red { color: var(--ajrak-red); }
    .text-ajrak-blue { color: var(--ajrak-dark-blue); }
    .bg-ajrak-red { background-color: var(--ajrak-red); }
    .bg-ajrak-blue { background-color: var(--ajrak-dark-blue); }
    .border-ajrak { border: 2px solid var(--ajrak-red); }

    /* Custom spacing for RTL languages to compensate for font differences */
    html[dir="rtl"] .logo-container {
      gap: 1.5rem; /* Increased space for Urdu and Sindhi */
    }

    .text-4xl { font-size: 2.25rem; }
    .text-5xl { font-size: 3rem; }
  </style>
</head>
<body>
  <!-- Main UI starts here -->
  <!-- Header & Navigation -->
  <header class="bg-white shadow-md sticky top-0 z-50">
    <nav class="container mx-auto px-4 py-4 flex justify-between items-center">
        <!-- Logo and Text Container -->
        <a href="index.html" class="flex items-center space-x-4 logo-container">
          <img src="logo.png" alt="Madadgar Team Logo" class="w-20 h-20 rounded-full">
          <p class="text-xl font-bold text-ajrak-red" data-i18n="orgName">مددگار ٽيم</p>
        </a>
        <div class="hidden md:flex space-x-4" dir="ltr">
            <a href="#home" class="text-lg text-ajrak-blue hover:underline" data-i18n="navHome">Home</a>
            <a href="#about" class="text-lg text-ajrak-blue hover:underline" data-i18n="navAbout">About Us</a>
            <a href="#programs" class="text-lg text-ajrak-blue hover:underline" data-i18n="navPrograms">Programs</a>
            <a href="#help-request" class="text-lg text-ajrak-blue hover:underline" data-i18n="navHelpRequest">Help Request</a>
            <a href="#contact" class="text-lg text-ajrak-blue hover:underline" data-i18n="navContact">Contact</a>
        </div>
        <!-- Language Switcher -->
        <div class="lang-switcher">
            <select id="language-selector" class="border rounded-md px-2 py-1">
                <option value="sd" selected>سنڌي</option>
                <option value="ur">اردو</option>
                <option value="en">English</option>
            </select>
        </div>
        <button class="md:hidden text-ajrak-blue focus:outline-none" onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        </button>
    </nav>
    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg pb-4">
        <a href="#home" class="block py-2 px-4 text-ajrak-blue hover:bg-gray-100 text-right" data-i18n="navHome">Home</a>
        <a href="#about" class="block py-2 px-4 text-ajrak-blue hover:bg-gray-100 text-right" data-i18n="navAbout">About Us</a>
        <a href="#programs" class="block py-2 px-4 text-ajrak-blue hover:bg-gray-100 text-right" data-i18n="navPrograms">Programs</a>
        <a href="#help-request" class="block py-2 px-4 text-ajrak-blue hover:bg-gray-100 text-right" data-i18n="navHelpRequest">Help Request</a>
        <a href="#contact" class="block py-2 px-4 text-ajrak-blue hover:bg-gray-100 text-right" data-i18n="navContact">Contact</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="home" class="py-24 text-center bg-cover bg-center">
      <div class="container mx-auto px-4">
          <h1 class="text-5xl md:text-6xl font-bold text-ajrak-blue leading-tight mb-4" data-i18n="heroTitle">مددگار ٽيم</h1>
          <p class="mt-4 text-xl text-ajrak-red" data-i18n="heroSubtitle">هڪ مدد جو هٿ، هڪ بهتر مستقبل</p>
          <a href="#contact" class="mt-8 inline-block bg-ajrak-red text-white font-bold py-3 px-8 rounded-full hover:bg-red-900 transition-colors" data-i18n="donateBtn">
              هاڻي عطيو ڏيو
          </a>
          <div id="stats-container" class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-8 text-center max-w-4xl mx-auto">
              <!-- Stats will be populated here -->
          </div>
      </div>
  </section>

  <!-- About Us Section -->
  <section id="about" class="container mx-auto px-4 py-16 ajrak-container rounded-lg shadow-xl">
      <h2 class="text-3xl font-bold text-ajrak-blue text-center mb-8" data-i18n="aboutTitle">اسان جي باري ۾</h2>
      <div class="text-center max-w-3xl mx-auto">
          <p class="text-xl leading-relaxed" data-i18n="aboutText">
              مددگار ٽيم هڪ غير منافع بخش خيراتي تنظيم آهي جيڪا سنڌ جي غريب ۽ پسمانده طبقن جي مدد ڪرڻ لاءِ وقف آهي. اسان جو مشن انهن جي زندگين ۾ مثبت تبديلي آڻڻ آهي، انهن کي پائيدار حل فراهم ڪندي. اسان جو يقين آهي ته هڪ مددگار هٿ انهن جي زندگين ۾ وڏي تبديلي آڻي سگهي ٿو ۽ هڪ مضبوط، وڌيڪ رحم دل سماج ٺاهي سگهي ٿو.
          </p>
      </div>
  </section>

  <!-- Our Programs Section -->
  <section id="programs" class="container mx-auto px-4 py-16">
      <h2 class="text-3xl font-bold text-ajrak-blue text-center mb-8" data-i18n="programsTitle">اسان ڇا ٿا ڪريون</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center">
          <div class="bg-white p-6 rounded-lg shadow-lg border-ajrak hover:scale-105 transition-transform">
              <h3 class="text-2xl font-bold mb-2 text-ajrak-red" data-i18n="program1Title">کاڌي جي ورڇ</h3>
              <p class="text-gray-600" data-i18n="program1Text">اسان خوراڪ جي مهم هلائيندا آهيون ته جيئن ڪو به بکيو نه سمهي. اسان ضرورت مند خاندانن کي کاڌي جا پيڪيج فراهم ڪندا آهيون. </p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-lg border-ajrak hover:scale-105 transition-transform">
              <h3 class="text-2xl font-bold mb-2 text-ajrak-red" data-i18n="program2Title">صحت ۽ طبي امداد</h3>
              <p class="text-gray-600" data-i18n="program2Text">اسان غريب ماڻهن کي صحت جي سنڀال ۽ طبي امداد فراهم ڪندا آهيون. مفت طبي ڪيمپون منعقد ڪيون وينديون آهن. </p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-lg border-ajrak hover:scale-105 transition-transform">
              <h3 class="text-2xl font-bold mb-2 text-ajrak-red" data-i18n="program3Title">تعليمي مدد</h3>
              <p class="text-gray-600" data-i18n="program3Text">اسان غريب ٻارن جي تعليم ۾ مدد ڪندا آهيون، اسڪول جو سامان، اسڪالرشپ ۽ مفت ٽيوشن ڪلاس فراهم ڪندا آهيون. </p>
          </div>
          <div class="bg-white p-6 rounded-lg shadow-lg border-ajrak hover:scale-105 transition-transform">
              <h3 class="text-2xl font-bold mb-2 text-ajrak-red" data-i18n="program4Title">صاف پاڻي ۽ صفائي</h3>
              <p class="text-gray-600" data-i18n="program4Text">اسان صاف پاڻي جي دستيابي ۽ صفائي جي منصوبن تي ڪم ڪندا آهيون ته جيئن صحت مند زندگي گذاري سگهجي. </p>
          </div>
      </div>
  </section>

  <!-- Help Request Section -->
  <section id="help-request" class="container mx-auto px-4 py-16">
      <div class="ajrak-container rounded-lg shadow-xl p-8 max-w-2xl mx-auto">
          <h2 class="text-3xl font-bold text-ajrak-blue text-center mb-6" data-i18n="helpRequestTitle">مدد جي درخواست</h2>
          <p class="text-center mb-6 text-lg" data-i18n="helpRequestSubtitle">جيڪڏهن توهان کي مدد جي ضرورت آهي، مهرباني ڪري هيٺ ڏنل فارم ڀريو ۽ اسان سان رابطو ڪيو.</p>
          <form id="help-request-form">
              <div class="mb-4">
                  <label for="request-name" class="block text-gray-700 font-bold mb-2" data-i18n="fullNameLabel">پورو نالو</label>
                  <input type="text" id="request-name" name="name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-ajrak-red" required>
              </div>
              <div class="mb-4">
                  <label for="request-phone" class="block text-gray-700 font-bold mb-2" data-i18n="phoneLabel">موبائل نمبر</label>
                  <input type="tel" id="request-phone" name="phone" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-ajrak-red" required>
              </div>
              <div class="mb-4">
                  <label for="request-address" class="block text-gray-700 font-bold mb-2" data-i18n="addressLabel">پتو</label>
                  <textarea id="request-address" name="address" rows="2" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-ajrak-red" required></textarea>
              </div>
              <div class="mb-6">
                  <label for="request-details" class="block text-gray-700 font-bold mb-2" data-i18n="helpDetailsLabel">مدد جي تفصيل</label>
                  <textarea id="request-details" name="details" rows="4" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-ajrak-red" data-i18n="helpDetailsPlaceholder" placeholder="مثال: کاڌي جي ضرورت، طبي امداد، تعليمي مدد، وغيره"></textarea>
              </div>
              <button type="submit" class="w-full bg-ajrak-blue text-white font-bold py-3 rounded-full hover:bg-blue-900 transition-colors" data-i18n="submitRequestBtn">
                  مدد جي درخواست موڪليو
              </button>
              <div id="request-status" class="mt-4 text-center"></div>
          </form>
      </div>
  </section>

  <!-- Volunteer & Contact Section -->
  <section id="contact" class="container mx-auto px-4 py-16">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
      <!-- Volunteer Form -->
      <div class="ajrak-container rounded-lg shadow-xl p-8">
        <h2 class="text-3xl font-bold text-ajrak-blue text-center mb-6" data-i18n="joinUsTitle">شريڪ ٿيو</h2>
        <p class="text-center mb-6 text-lg" data-i18n="joinUsSubtitle">توهان جو تعاون هڪ فرق آڻي سگهي ٿو. رضاڪار طور شامل ٿيو يا هاڻي عطيو ڏيو.</p>
        <form id="volunteer-form">
          <div class="mb-4">
            <label for="volunteer-name" class="block text-gray-700 font-bold mb-2" data-i18n="fullNameLabel">پورو نالو</label>
            <input type="text" id="volunteer-name" name="name" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-ajrak-red" required>
          </div>
          <div class="mb-4">
            <label for="volunteer-phone" class="block text-gray-700 font-bold mb-2" data-i18n="phoneLabel">موبائل نمبر</label>
            <input type="tel" id="volunteer-phone" name="phone" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-ajrak-red" required>
          </div>
          <div class="mb-6">
            <label for="volunteer-message" class="block text-gray-700 font-bold mb-2" data-i18n="howToHelpLabel">توهان ڪيئن مدد ڪري سگهو ٿا؟</label>
            <textarea id="volunteer-message" name="message" rows="4" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-ajrak-red" data-i18n="helpPlaceholder" placeholder="مثال: کاڌو ورهائڻ، ڊاڪٽر، ٽيچر، وغيره"></textarea>
          </div>
          <button type="submit" class="w-full bg-ajrak-red text-white font-bold py-3 rounded-full hover:bg-red-900 transition-colors" data-i18n="joinBtn">
            رضاڪاراڻو شامل ٿيو
          </button>
          <div id="volunteer-status" class="mt-4 text-center"></div>
        </form>
      </div>
      
      <!-- Contact Info & Donations -->
      <div class="ajrak-container rounded-lg shadow-xl p-8">
        <h2 class="text-3xl font-bold text-ajrak-blue text-center mb-6" data-i18n="contactTitle">رابطو ڪريو ۽ عطيا ڏيو</h2>
        <div class="text-center mb-6 text-lg">
          <p data-i18n="contactText">اسان سان رابطو ڪرڻ لاءِ هيٺ ڏنل تفصيل استعمال ڪريو.</p>
        </div>
        <div class="bg-gray-100 p-6 rounded-lg shadow-inner">
          <p class="text-xl font-bold text-ajrak-blue" data-i18n="accountDetailsTitle">اڪائونٽ تفصيل</p>
          <p class="mt-2 text-sm text-gray-700" data-i18n="bank">بينڪ: <strong>ABC Bank</strong></p>
          <p class="text-sm text-gray-700" data-i18n="accountNo">اڪائونٽ نمبر: <strong>123-456-7890</strong></p>
          <p class="text-sm text-gray-700" data-i18n="accountName">اڪائونٽ جو نالو: <strong>Madadgar Team</strong></p>
        </div>
        <div class="mt-6 flex flex-col items-center">
          <p class="text-lg font-bold" data-i18n="directContactTitle">يا سڌو اسان سان رابطو ڪريو:</p>
          <p class="text-ajrak-blue font-bold text-lg mt-2"><a href="mailto:madadgarteamofficial@gmail.com">madadgarteamofficial@gmail.com</a></p>
          <p class="text-ajrak-blue font-bold text-lg mt-1" data-i18n="phoneNo">+92 312 3456789</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-ajrak-blue text-white py-8 mt-16">
      <div class="container mx-auto px-4 text-center">
          <p class="text-lg font-bold mb-2" data-i18n="contactInfoTitle">رابطي جي تفصيل</p>
          <p data-i18n="address">123، مين روڊ، ڪراچي، سنڌ، پاڪستان</p>
          <p data-i18n="contactInfo">فون:03461103522 | اي ميل: madadgarteamofficial@gmail.com</p>
          <p class="mt-4" data-i18n="copyright">© 2025 مددگار ٽيم. سڀ حق محفوظ آهن.</p>
          <div class="flex justify-center space-x-4 space-x-reverse mt-4" dir="ltr">
              <a href="#" class="hover:text-gray-300">Facebook</a>
&nbsp; &nbsp;
              <a href="#" class="hover:text-gray-300">Twitter</a>
              <a href="#" class="hover:text-gray-300">Instagram</a>
          </div>
      </div>
  </footer>

  <script type="module">
    // Supabase configuration
    const SUPABASE_URL = 'https://flcvjrbsijwpfjvpvzzp.supabase.co';
    const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZsY3ZqcmJzaWp3cGZqdnB2enpwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY5OTQzNTIsImV4cCI6MjA3MjU3MDM1Mn0.RQ14jDfnIVlga5LnfNA-mC79qtvTcut0LNkCV5_Sk_M';

    // --- Translation Logic ---
    const translations = {
      // General
      'orgName': { sd: 'مددگار ٽيم', ur: 'مددگار ٹیم', en: 'Madadgar Team' },

      // Navigation
      'navHome': { sd: 'گهر', ur: 'ہوم', en: 'Home' },
      'navAbout': { sd: 'اسان جي باري ۾', ur: 'ہمارے بارے میں', en: 'About Us' },
      'navPrograms': { sd: 'پروگرام', ur: 'پروگرام', en: 'Programs' },
      'navHelpRequest': { sd: 'مدد جي درخواست', ur: 'مدد کی درخواست', en: 'Help Request' },
      'navContact': { sd: 'رابطو', ur: 'رابطہ', en: 'Contact' },

      // Hero Section
      'heroTitle': { sd: 'مددگار ٽيم', ur: 'مددگار ٹیم', en: 'Madadgar Team' },
      'heroSubtitle': { sd: 'هڪ مدد جو هٿ، هڪ بهتر مستقبل', ur: 'ایک مدد کا ہاتھ، ایک بہتر مستقبل', en: 'A helping hand, a better future' },
      'donateBtn': { sd: 'هاڻي عطيو ڏيو', ur: 'ابھی عطیہ دیں', en: 'Donate Now' },

      // Stats Section
      'stat1Title': { sd: 'خوراڪ جا پيڪيج ورهايا ويا', ur: 'خوراک کے پیکیج تقسیم کیے گئے', en: 'Food packages distributed' },
      'stat2Title': { sd: 'تعليم ۾ مدد ڪئي وئي', ur: 'تعلیم میں مدد کی گئی', en: 'Educational support provided' },
      'stat3Title': { sd: 'مفت طبي ڪيمپون', ur: 'مفت طبی کیمپیں', en: 'Free medical camps' },

      // About Section
      'aboutTitle': { sd: 'اسان جي باري ۾', ur: 'ہمارے بارے میں', en: 'About Us' },
      'aboutText': {
        sd: 'مددگار ٽيم هڪ غير منافع بخش خيراتي تنظيم آهي جيڪا سنڌ جي غريب ۽ پسمانده طبقن جي مدد ڪرڻ لاءِ وقف آهي. اسان جو مشن انهن جي زندگين ۾ مثبت تبديلي آڻڻ آهي، انهن کي پائيدار حل فراهم ڪندي. اسان جو يقين آهي ته هڪ مددگار هٿ انهن جي زندگين ۾ وڏي تبديلي آڻي سگهي ٿو ۽ هڪ مضبوط، وڌيڪ رحم دل سماج ٺاهي سگهي ٿو.',
        ur: 'مددگار ٹیم ایک غیر منافع بخش فلاحی تنظیم ہے جو سندھ کے غریب اور پسماندہ طبقات کی مدد کے لیے وقف ہے۔ ہمارا مشن ان کی زندگیوں میں مثبت تبدیلی لانا ہے، انہیں پائیدار حل فراہم کرتے ہوئے. ہمارا یقین ہے کہ ایک مددگار ہاتھ ان کی زندگیوں میں بڑا فرق لا سکتا ہے اور ایک مضبوط، زیادہ رحم دل معاشرہ تشکیل دے سکتا ہے۔',
        en: 'Madadgar Team is a non-profit charitable organization dedicated to helping the poor and marginalized communities of Sindh. Our mission is to bring a positive change in their lives by providing them with sustainable solutions. We believe a helping hand can make a huge difference in their lives and create a stronger, more compassionate society.'
      },

      // Programs Section
      'programsTitle': { sd: 'اسان ڇا ٿا ڪريون', ur: 'ہم کیا کرتے ہیں', en: 'What We Do' },
      'program1Title': { sd: 'کاڌي جي ورڇ', ur: 'کھانے کی تقسیم', en: 'Food Distribution' },
      'program1Text': { sd: 'اسان خوراڪ جي مهم هلائيندا آهيون ته جيئن ڪو به بکيو نه سمهي. اسان ضرورت مند خاندانن کي کاڌي جا پيڪيج فراهم ڪندا آهيون.', ur: 'ہم خوراک کی مہم چلاتے ہیں تاکہ کوئی بھوکا نہ سوئے۔ ہم ضرورت مند خاندانوں کو کھانے کے پیکیج فراہم کرتے ہیں۔', en: 'We run food drives so that no one goes to bed hungry. We provide food packages to needy families.' },
      'program2Title': { sd: 'صحت ۽ طبي امداد', ur: 'صحت اور طبی امداد', en: 'Health and Medical Aid' },
      'program2Text': { sd: 'اسان غريب ماڻهن کي صحت جي سنڀال ۽ طبي امداد فراهم ڪندا آهيون. مفت طبي ڪيمپون منعقد ڪيون وينديون آهن.', ur: 'ہم غریب لوگوں کو صحت کی دیکھ بھال اور طبی امداد فراہم کرتے ہیں۔ مفت طبی کیمپوں کا انعقاد کیا جاتا ہے۔', en: 'We provide healthcare and medical aid to the poor. Free medical camps are held.' },
      'program3Title': { sd: 'تعليمي مدد', ur: 'تعلیمی مدد', en: 'Educational Support' },
      'program3Text': { sd: 'اسان غريب ٻارن جي تعليم ۾ مدد ڪندا آهيون، اسڪول جو سامان، اسڪالرشپ ۽ مفت ٽيوشن ڪلاس فراهم ڪندا آهيون.', ur: 'ہم غریب بچوں کی تعلیم میں مدد کرتے ہیں، اسکول کا سامان، سکالرشپ اور مفت ٹیوشن کلاسز فراہم کرتے ہیں۔', en: 'We assist in the education of poor children, providing school supplies, scholarships, and free tuition classes.' },
      'program4Title': { sd: 'صاف پاڻي ۽ صفائي', ur: 'صاف پانی اور صفائی', en: 'Clean Water and Sanitation' },
      'program4Text': { sd: 'اسان صاف پاڻي جي دستيابي ۽ صفائي جي منصوبن تي ڪم ڪندا آهيون ته جيئن صحت مند زندگي گذاري سگهجي.', ur: 'ہم صاف پانی کی دستیابی اور صفائی کے منصوبوں پر کام کرتے ہیں تاکہ صحت مند زندگی گذاری جا سکے.', en: 'We work on clean water access and sanitation projects for a healthy life.' },

      // Help Request Section
      'helpRequestTitle': { sd: 'مدد جي درخواست', ur: 'مدد کی درخواست', en: 'Help Request' },
      'helpRequestSubtitle': { sd: 'جيڪڏهن توهان کي مدد جي ضرورت آهي، مهرباني ڪري هيٺ ڏنل فارم ڀريو ۽ اسان سان رابطو ڪيو.', ur: 'اگر آپ کو مدد کی ضرورت ہے، تو براہ کرم نیچے دیے گئے فارم کو بھریں اور ہم سے رابطہ کریں۔', en: 'If you need help, please fill out the form below and contact us.' },
      'helpDetailsLabel': { sd: 'مدد جي تفصيل', ur: 'مدد کی تفصیلات', en: 'Help Details' },
      'helpDetailsPlaceholder': { sd: 'مثال: کاڌي جي ضرورت، طبي امداد، تعليمي مدد، وغيره', ur: 'مثال: کھانے کی ضرورت، طبی امداد، تعلیمی مدد، وغیرہ', en: 'e.g., Need food, medical aid, educational support, etc.' },
      'submitRequestBtn': { sd: 'مدد جي درخواست موڪليو', ur: 'مدد کی درخواست بھیجیں', en: 'Submit Help Request' },
      'requestSuccess': { sd: 'مهرباني! توهان جي درخواست موڪلي وئي آهي. اسان جلد توهان سان رابطو ڪنداسين.', ur: 'شکریہ! آپ کی درخواست بھیج دی گئی ہے۔ ہم جلد آپ سے رابطہ کریں گے۔', en: 'Thank you! Your request has been sent. We will contact you soon.' },

      // Volunteer & Contact Section
      'joinUsTitle': { sd: 'شريڪ ٿيو', ur: 'شامل ہوں', en: 'Join Us' },
      'joinUsSubtitle': { sd: 'توهان جو تعاون هڪ فرق آڻي سگهي ٿو. رضاڪار طور شامل ٿيو يا هاڻي عطيو ڏيو.', ur: 'آپ کا تعاون ایک فرق لا سکتا ہے۔ رضاکار کے طور پر شامل ہوں یا ابھی عطیہ دیں۔', en: 'Your support can make a difference. Join as a volunteer or donate now.' },
      'fullNameLabel': { sd: 'پورو نالو', ur: 'پورا نام', en: 'Full Name' },
      'phoneLabel': { sd: 'موبائل نمبر', ur: 'موبائل نمبر', en: 'Phone Number' },
      'addressLabel': { sd: 'پتو', ur: 'پتہ', en: 'Address' },
      'howToHelpLabel': { sd: 'توهان ڪيئن مدد ڪري سگهو ٿا؟', ur: 'آپ کیسے مدد کر سکتے ہیں؟', en: 'How can you help?' },
      'helpPlaceholder': { sd: 'مثال: کاڌو ورهائڻ، ڊاڪٽر، ٽيچر، وغيره', ur: 'مثال: کھانا تقسیم کرنا، ڈاکٹر، استاد، وغیرہ', en: 'e.g., Food distribution, Doctor, Teacher, etc.' },
      'joinBtn': { sd: 'رضاڪاراڻو شامل ٿيو', ur: 'بطور رضاکار شامل ہوں', en: 'Join as a Volunteer' },
      'volunteerSuccess': { sd: 'مهرباني! توهان جي معلومات موڪلي وئي آهي.', ur: 'شکریہ! آپ کی معلومات بھیج دی گئی ہے۔', en: 'Thank you! Your information has been submitted.' },
      'contactTitle': { sd: 'رابطو ڪريو ۽ عطيا ڏيو', ur: 'رابطہ کریں اور عطیہ دیں', en: 'Contact & Donate' },
      'contactText': { sd: 'اسان سان رابطو ڪرڻ لاءِ هيٺ ڏنل تفصيل استعمال ڪريو.', ur: 'ہم سے رابطہ کرنے کے لیے نیچے دیے گئے تفصیلات استعمال کریں۔', en: 'Use the details below to contact us.' },
      'accountDetailsTitle': { sd: 'اڪائونٽ تفصيل', ur: 'اکاؤنٹ کی تفصیلات', en: 'Account Details' },
      'bank': { sd: 'بينڪ:', ur: 'بینک:', en: 'Bank:' },
      'accountNo': { sd: 'اڪائونٽ نمبر:', ur: 'اکاؤنٹ نمبر:', en: 'Account No:' },
      'accountName': { sd: 'اڪائونٽ جو نالو:', ur: 'اکاؤنٹ کا نام:', en: 'Account Name:' },
      'directContactTitle': { sd: 'يا سڌو اسان سان رابطو ڪريو:', ur: 'یا براہ راست ہم سے رابطہ کریں:', en: 'Or contact us directly:' },
      'phoneNo': { sd: 'فون: 03461103522', ur: 'فون: 03461103522', en: 'Phone:03461103522' },

      // Footer
      'contactInfoTitle': { sd: 'رابطي جي تفصيل', ur: 'رابطے کی تفصیلات', en: 'Contact Details' },
      'address': { sd: '123، مين روڊ، ڪراچي، سنڌ، پاڪستان', ur: '123، مین روڈ، کراچی، سندھ، پاکستان', en: '123, Main Road, Karachi, Sindh, Pakistan' },
      'contactInfo': { sd: 'فون:03461103522 | اي ميل: madadgarteamofficial@gmail.com', ur: 'فون: 03461103522 | ای میل: madadgarteamofficial@gmail.com', en: 'Phone:03461103522 +92 312 3456789 | Email: madadgarteamofficial@gmail.com' },
      'copyright': { sd: '© 2025 مددگار ٽيم. سڀ حق محفوظ آهن.', ur: '© 2025 مددگار ٹیم. تمام حقوق محفوظ ہیں.', en: '© 2025 Madadgar Team. All rights reserved.' },
      'sending': { sd: 'موڪليو پيو وڃي...', ur: 'بھیجا جا رہا ہے...', en: 'Sending...' },
      'error': { sd: 'معذرت، ڪجهه غلط ٿي ويو. مهرباني ڪري ٻيهر ڪوشش ڪريو.', ur: 'معذرت، کچھ غلط ہو گیا۔ براہ مہربانی دوبارہ کوشش کریں.', en: 'Sorry, something went wrong. Please try again.' }
    };

    const statsData = [
      { key: 'stat1Title', count: 5000 },
      { key: 'stat2Title', count: 1200 },
      { key: 'stat3Title', count: 20 }
    ];

    // Function to set the language and text direction
    function setLanguage(lang) {
      document.documentElement.setAttribute('lang', lang);
      const isRtl = (lang === 'sd' || lang === 'ur');
      document.documentElement.setAttribute('dir', isRtl ? 'rtl' : 'ltr');
      
      // Update all translated elements
      document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (translations[key] && translations[key][lang]) {
          // Check for placeholders like in form inputs
          if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.setAttribute('placeholder', translations[key][lang]);
          } else {
            element.textContent = translations[key][lang];
          }
        }
      });
      
      renderStats(lang);
    }

    function renderStats(lang) {
        const statsContainer = document.getElementById('stats-container');
        if (statsContainer) {
            statsContainer.innerHTML = ''; // Clear existing stats
            statsData.forEach(stat => {
                const statDiv = document.createElement('div');
                statDiv.className = 'bg-white p-6 rounded-lg shadow-lg border-ajrak hover:scale-105 transition-transform';
                const statTitle = translations[stat.key][lang];
                statDiv.innerHTML = `
                    <p class="text-4xl font-bold text-ajrak-red count-up"></p>
                    <p class="text-gray-600">${statTitle}</p>
                `;
                statsContainer.appendChild(statDiv);
            });
            
            // Re-observe counters
            document.querySelectorAll('.count-up').forEach(counter => {
                if (observer) {
                    observer.unobserve(counter);
                    observer.observe(counter);
                }
            });
        }
    }

    // --- The counter logic (adapted for dynamic stats) ---
    function animateValue(obj, start, end, duration, locale) {
        let startTimestamp = null;
        const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min((timestamp - startTimestamp) / duration, 1);
            obj.textContent = Math.floor(progress * (end - start) + start).toLocaleString(locale);
            if (progress < 1) {
                window.requestAnimationFrame(step);
            }
        };
        window.requestAnimationFrame(step);
    }
    
    let observer;
    
    document.addEventListener('DOMContentLoaded', () => {
        const langSelector = document.getElementById('language-selector');

        // Setup observer for counter animations
        observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const target = entry.target;
                    const statTitleElement = target.nextElementSibling;
                    const lang = document.documentElement.getAttribute('lang');
                    
                    const statData = statsData.find(stat => translations[stat.key][lang] === statTitleElement.textContent);
                    if (statData) {
                        animateValue(target, 0, statData.count, 2000, lang === 'ur' ? 'ur-PK' : lang);
                    }
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });
        
        // Set initial language
        const initialLang = langSelector.value;
        setLanguage(initialLang);

        // Add event listener for language change
        if (langSelector) {
          langSelector.addEventListener('change', (event) => {
            const selectedLang = event.target.value;
            setLanguage(selectedLang);
          });
        }
    });

    // --- Form submission logic ---
    const volunteerForm = document.getElementById('volunteer-form');
    const volunteerStatusDiv = document.getElementById('volunteer-status');
    const requestForm = document.getElementById('help-request-form');
    const requestStatusDiv = document.getElementById('request-status');

    async function handleSubmit(e, formType) {
        e.preventDefault();

        const statusDiv = formType === 'volunteer' ? volunteerStatusDiv : requestStatusDiv;
        const form = formType === 'volunteer' ? volunteerForm : requestForm;
        const lang = document.documentElement.getAttribute('lang');

        statusDiv.classList.remove('text-green-600', 'text-red-600');
        statusDiv.classList.add('text-gray-500');
        statusDiv.textContent = translations.sending[lang];

        const formData = new FormData(form);
        const data = {};
        for (const [key, value] of formData.entries()) {
            data[key] = value;
        }

        const tableName = formType === 'volunteer' ? 'volunteers' : 'help_requests';
        const successMessageKey = formType === 'volunteer' ? 'volunteerSuccess' : 'requestSuccess';

        try {
          const response = await fetch(`${SUPABASE_URL}/rest/v1/${tableName}`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'apikey': SUPABASE_KEY,
              'Authorization': `Bearer ${SUPABASE_KEY}`
            },
            body: JSON.stringify(data)
          });

          if (response.ok) {
            statusDiv.classList.remove('text-gray-500');
            statusDiv.classList.add('text-green-600');
            statusDiv.textContent = translations[successMessageKey][lang];
            form.reset();
          } else {
            const errorData = await response.json();
            console.error('Supabase error:', errorData);
            statusDiv.classList.remove('text-gray-500');
            statusDiv.classList.add('text-red-600');
            statusDiv.textContent = translations.error[lang];
          }
        } catch (error) {
          console.error('Network error:', error);
          statusDiv.classList.remove('text-gray-500');
          statusDiv.classList.add('text-red-600');
          statusDiv.textContent = translations.error[lang];
        }
    }

    if (volunteerForm) {
      volunteerForm.addEventListener('submit', (e) => handleSubmit(e, 'volunteer'));
    }
    if (requestForm) {
      requestForm.addEventListener('submit', (e) => handleSubmit(e, 'helpRequest'));
    }
  </script>
</body>
</html>
